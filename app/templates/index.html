{% extends 'base.html' %}

{% block content %}
    <div class="container">
        <div class="row py-3">
            <div class="col-md-12">
                <form class="card bg-dark" action="" method="post">
                    {{ form.hidden_tag() }}
                    <div class="card-body">
                        <h1>Say Something</h1>
                        <p class="lead">What's happening?</p>

                        <div class="form-group">
                            {{ form.title(class="form-control", placeholder="Post Title") }}
                        </div>

                        <div class="form-group">
                            {{ form.body(class="form-control", cols="20", rows="3", placeholder="Post Full Story") }}
                        </div>
                        {{ form.submit(class="btn btn-block btn-primary") }}
                    </div>
                </form>
            </div>
        </div>

        {% if posts|length > 0 %}
        <div class="row py-3">
            <div class="col-md-12">
                {% for post in posts %}
                    <div class="card mb-3 bg-dark">
                        <div class="card-body">
                            <h4 class="card-title"> {{ post.title }} </h4>

                            <p class="card-text">
                                {{ post.body }}
                            </p>
                        </div>
                        <div class="card-footer text-right">
                            <a href="#" class="edit card-link" data-id="${post.id}">
                                <i class="fa fa-pencil text-success"></i>
                            </a>
                            <a href="#" class="delete card-link" data-id="${post.id}">
                            <i class="fa fa-trash text-danger"></i>
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
{% endblock content %}